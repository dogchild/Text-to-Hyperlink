<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Text to Hyperlink Test</title>
    <style>
        body {
            font-family: sans-serif;
            line-height: 1.6;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }

        .block {
            margin-bottom: 20px;
            padding: 10px;
            border: 1px solid #ccc;
        }

        .hidden {
            display: none;
        }
    </style>
</head>

<body>
    <div class="container">
        <h1>Text to Hyperlink Test</h1>

        <div class="block">
            <h2>Standard URLs</h2>
            <p>Here is a link: https://www.google.com</p>
            <p>Another one: http://example.com/path?query=1&param=2</p>
            <p>Mixed text https://www.mozilla.org end of text.</p>
        </div>

        <div class="block">
            <h2>Static Pattern Test (Crucial)</h2>
            <p>Text 1 https://site.com/1 Text 2 https://site.com/2 Text 3 https://site.com/3</p>
        </div>

        <div class="block">
            <h2>Magnet Links</h2>
            <p>magnet:?xt=urn:btih:c12fe1c06bba254a9dc9f519b335aa7c1367a88a&dn=Example</p>
        </div>

        <div class="block">
            <h2>Custom Protocols</h2>
            <p>Telegram: tg://resolve?domain=telegram</p>
            <p>Windows Store: ms-windows-store://pdp/?productid=9WZDNCRFHVJL</p>
            <p>eD2k: ed2k://|file|eMule0.50a.zip|3023021|E67727F47772658CE63428ZB5Z789012|/</p>
            <p>Thunder: thunder://QUFodHRwOi8vd3d3Lnh1bmxlaS5jb20vWlo=</p>
        </div>

        <div class="block">
            <h2>Protocol-less URLs</h2>
            <p>Standard: www.google.com, google.com, example.net</p>
            <p>Cheap/New TLDs: site.xyz, my.shop, game.club, app.online, news.top</p>
            <p>Country TLDs: test.co.uk, sina.com.cn, domain.tk, site.ru</p>
            <p>Free/App Domains (New): vercel.app, unknown.dev, bit.ly/test, js.org, eu.org</p>
            <p>Complex: sub.domain.co.jp, my-site.org.cn</p>

            <h3>Edge Cases (Strict Logic)</h3>
            <ul>
                <li>www.abc.hh (Link: www.abc.tk)</li>
                <li>abc.tk (Link: abc.tk)</li>
                <li>abc。tk (Should NOT be a link - Chinese Dot)</li>
                <li>啊啊啊.tk (Should NOT be a link - Chinese Domain)</li>
                <li>abc.tk/啊啊啊 (Link: abc.tk - suffix text ignored)</li>
                <li>啊啊啊/abc.tk/啊啊啊 (Link: abc.tk - suffix text ignored)</li>
                <li>abc.tk. (Link: abc.tk - trailing dot ignored)</li>
                <li>abc.tk。 (Link: abc.tk - trailing Chinese dot ignored)</li>
            </ul>
        </div>

        <div class="block">
            <h2>Cloud Drive Test (Auto-Fill)</h2>
            <p>Baidu: pan.baidu.com/s/123456 提取码: abcd</p>
            <p>Aliyun: alipan.com/s/xyz789 code: 1234</p>
            <p>Lanzou: www.lanzou.com/b123456 密码: 5678</p>
            <p>Quark: pan.quark.cn/s/abcdef 访问码：9999</p>

            <!-- Mock Input for Auto-fill Test (Open console to see auto-fill log if hash matches) -->
            <div>
                <label>Mock Password Input:</label>
                <input type="text" id="accessCode" placeholder="请输入提取码">
                <button>提取文件</button>
                <p><em>(Click generated link above to open in new tab, then manually append #pwd=abcd to THIS page URL
                        to test auto-fill here)</em></p>
            </div>
        </div>

        <div class="block">
            <h2>Dynamic Content (Click to Load)</h2>
            <button id="loadMore">Load More Content</button>
            <div id="dynamicArea"></div>
        </div>

        <div class="block">
            <h2>Performance Test (Large Block)</h2>
            <div id="largeBlock"></div>
        </div>
    </div>

    <script>
        document.getElementById('loadMore').addEventListener('click', () => {
            const div = document.createElement('div');
            div.className = 'block';
            div.innerHTML = '<p>Dynamic Link: https://dynamic.example.com/' + Math.random() + '</p>';
            document.getElementById('dynamicArea').appendChild(div);
        });

        const largeBlock = document.getElementById('largeBlock');
        let content = '';
        for (let i = 0; i < 5000; i++) {
            content += 'Text ' + i + ' https://site.com/' + i + ' ';
        }
        largeBlock.textContent = content; // Set as text to simulate plain text
    </script>
</body>

</html>